<!DOCTYPE html>
<html><head><title>Addons</title><meta charset="utf-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link href="light.css" id="stylesheet_theme" rel="stylesheet"/><link href="bold.css" id="stylesheet_stress" rel="stylesheet"/><link href="italic.css" id="stylesheet_comment" rel="stylesheet"/><link href="highlight.css" id="stylesheet_highlight" rel="stylesheet"/><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script><script src="theme.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/></head><body onload="set_style_from_storage()"><div class="container-fluid page-contents"><nav class="navbar navbar-expand-md fixed-top"><a class="navbar-item navbar-brand fa fa-home d-none d-md-inline" href="contents.html"></a><div class="navbar-item justify-content-left mr-auto navbar-text"><span class="page-number">11</span> Addons</div><div><span></span><div class="dropdown dropleft d-md-none" id="context-menu"><button class="navbar-item justify-content-right btn fa fa-ellipsis-v" data-toggle="dropdown"></button><div class="dropdown-menu" id="menu-page-narrow"><a class="dropdown-item fa fa-home" href="contents.html"> Contents</a></div></div></div></nav><span></span><div class="section card"><div class="title section card-header " data-target="#collapse0" data-toggle="collapse">Installation</div><div class="card-text collapse px-1" id="collapse0"><div class="blankline">
            Addons are installed by scripts using the id number in the script command.  This should match the number displayed on 
            <a href="https://ankiweb.net/shared/addons/2.1">AnkiWeb</a>. 
        </div><div class="blankline">
            The user is prompted to confirm the installation, with the addon name in the script displayed in the message. The 
            confirmation dialog is also set up so that using the Help directs the user at the AnkiWeb page for the addon.
        </div><div class="blankline">
<img src="_11_1.jpg"/>
</div><div class="blankline"><span class="comment">
            A confirmation dialog is used to prevent malicious addons being installed by scripts without a user's knowledge.
        </span></div></div></div><div class="section card"><div class="title section card-header " data-target="#collapse1" data-toggle="collapse">Configuration</div><div class="card-text collapse px-1" id="collapse1"><div class="blankline">
            Scripts can include changes to the configuration of other addons.  This lets script authors ensure that other 
            addons have been properly set up for use with the domain specific / course addon.
        </div><div class="blankline">
            Any addon configuration should be defined in a file within the <code>config</code> directory <a class="text-muted fa fa-external-link" href="6.html"></a>. 
            The file should have a .config file extension, with the filename being the name of the addon being configured, 
            converted to lowercase and with spaces replaced by an underscore.
        </div><div class="blankline"><span class="comment">
            Currently only addons using the Anki json data format can be configured - for others it is suggested that a page 
            is displayed at the end of the script providing instructions of what needs to be done by the user.
        </span></div><div class="blankline">
            After an addon configuration has been changed by the script and post-configuration change action defined by the 
            addon is called.  If there is none and Anki needs to be restarted to pick up the change a message can be displayed 
            to users at the end of the script.
        </div><div class="blankline">
            When configuring another addon scripts can either replace the whole configuration, or just change part of it.
        </div><div class="blankline">
            To change only a part of an addon's configuration the command includes a 'key', which specifies where the change 
            is made.  The key is actually the path through the addons configuration data, with '/' being used to specify a 
            nested location <span class="comment">(a/b would look for a key 'a', then a key 'b' within the data for a)</span>
</div><div class="blankline">
            As an example the command<pre><code>
configure "Cloze Generator" addin, setting key "Courses.Anki Script example course.Verb Aspects"</code></pre> with the 
            associated configuration data<pre><code>{
    "Destination": {
        "Deck": "${verbs}",
        "Fields": {
            "English": "&lt;hr/&gt;&lt;br&gt;to {{English}}",
            "Russian": "{{c1::{{Russian}}::imp.}} - {{c2::{{Pair}}::perf.}}"
        },
        "Note": "${cloze}"
    },
    "Source": "${verb}"
}</code></pre> results in the following addon configuration: 
        </div><div class="blankline">
<img src="_11_2.jpg"/>
</div></div></div></div></body></html>